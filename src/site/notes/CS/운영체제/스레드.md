---
{"dg-publish":true,"permalink":"/cs///","dgPassFrontmatter":true,"noteIcon":"","created":"2024-11-02T21:10:31.315+09:00","updated":"2024-11-05T04:36:41.884+09:00"}
---


## 스레드(Thread)란?

- ==프로세스를 구성하는 실행의 흐름단위==
- 최근 많은 운영체제는 CPU에 처리할 작업을 전달할 때 프로세스가 아닌 스레드 단위로 전달함
- ==프로세스 자원을 공유한 채 실행에 필요한 최소한의 정보만으로 실행됨==

![IMG_A8AD6ABBC176-1.jpeg](/img/user/images/IMG_A8AD6ABBC176-1.jpeg)
- 단일 스레드 프로세스(Single Thread)
	- ==명령어 흐름(작업 흐름)이 하나만 존재==
	- 즉, **한 명의 작업자**가 순서대로 모든 일을 처리

![IMG_1DCA36A37F8D-1.jpeg](/img/user/images/IMG_1DCA36A37F8D-1.jpeg)
- 멀티 스레드 프로세스 (Multi-Thread)
	- ==여러 개의 명령어 흐름이 동시에 존재==
	- 즉, **여러 작업자**가 각기 다른 일을 동시에 처리할 수 있음
	- 각 스레드는 ==메모리와 자원을 공유하지만 개별적인 스택과 레지스터를 가짐==
	- 메모리 소비와 관리가 효율적이며 실행 속도가 빨라짐

❗<u>차이점은 프로그램이 동시에 여러 작업을 수행하냐 안 하냐의 차이</u> ❗


### 동기 비동기 방식과의 차이점은?

 - 동기/비동기 
	 - ==블로킹(Blocking)이냐 아니냐==
	 - 특히 **I/O 작업**에서 많이 사용됨(주로 네트워크 요청, 파일 읽기/쓰기, 데이터베이스 조회 같은 시간이 오래 걸리는 작업)
	 - 유튜브에서 예를 들면 동영상보기를 클릭 했을 때 동영상은 아직 로딩 중인데 댓글을 먼저 볼수 있는 이유가 비동기 요청으로 설정했기 때문이야.
- 단일/멀티 스레드
	- 프로그램이 CPU를 사용하는 방식으로, ==CPU가 동시에 여러 명령어를 처리할 수 있는지== 
	- 웹에서 예를 들면 클라이언트와 서버가 요청 리퀘스트 작업이 1초가 걸린다고 쳤을 때 사용자가 5명이면 단일 스레드일 경우 5초가 걸린다면 멀티스레드 방식에서 스레드가 5개 있을경우 1초가 걸려.




- 단일 스레드 + 동기
    
    - 특징: 흐름 단위(스레드)가 하나이고, 모든 작업을 **순차적으로 처리**.
    - 성능: 여러 사용자가 요청하면 **한 번에 하나의 요청만 처리**하므로 성능이 좋지 않음.
    - 사용자 경험: 순차적으로 진행되기 때문에 **사용자 대기 시간이 길어짐**.
    
- 단일 스레드 + 비동기
    
    - 특징: 흐름 단위가 하나이지만, **작업을 기다리지 않고 진행**하여 **비동기적으로 처리**.
    - 성능: 여전히 단일 스레드이기 때문에 **성능 개선에 큰 차이는 없으나**, 작업 간 **대기 시간이 줄어듦**.
    - 사용자 경험: 사용자 대기 시간이 조금 줄어들어 **버퍼링이 줄어든 효과**가 있음.
    
- 멀티 스레드 + 동기
    
    - 특징: 여러 스레드로 동시에 작업을 처리할 수 있어 **성능이 좋아짐**.
    - 성능: 여러 스레드가 있으므로 성능은 개선되지만, 각 작업이 **순차적으로 진행**되기 때문에 **대기 시간이 발생**할 수 있음.
    - 사용자 경험: 성능은 향상되었지만, **사용자가 요청 결과를 기다려야 하는 경우가 발생**.
    
- 멀티 스레드 + 비동기
    
    - 특징: 여러 스레드가 **비동기적으로 작업을 처리**하여, 서로 **대기하지 않고 동시에 진행**.
    - 성능: 성능이 가장 좋음. 여러 요청을 동시에 처리할 수 있고, 작업 간 대기가 없어 **효율적으로 요청 처리**.
    - 사용자 경험: 대기 시간이 거의 없어서 **가장 빠르고 부드러운 사용자 경험 제공**.


### 멀티프로세스와 멀티스레드

- 멀티프로세스
	- 여러 프로세스를 동시에 실행하는 것
	- 기본적으로 프로세스끼리 **자원을 공유하지 않음**
	- 그렇기에 동일한 프로세스 두 개를 동시에 실행하면 코드 영역, 데이터 영역, 힙 영역 등을 비롯한 모드 자원이 복제되어 메모리에 적재됨 
	- 한 마디로 PID, 저장된 메모리 주소를 제외하면 모든 것이 동일한 프로세스 두개가 통째로 메모리에 적재됨
	-  **메모리낭비**라고 볼 수 있음
- 멀티스레드
	- 여러 스레드로 프로세스를 동시에 실행하는 것
	- **같은 프로세스 내의 자원을 공유함**
	- 스레드들은 각기 다른 스레드 ID, 프로그램 카운터 값을 포함한 레지스터 값, 스택을 가질 뿐 프로세스가 가지고 있는 자원을 공유함
	- **메모리를 더 효율적으로 사용할 수 있음**

