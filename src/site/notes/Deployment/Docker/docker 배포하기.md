---
{"dg-publish":true,"permalink":"/deployment/docker/docker_ë°°í¬í•˜ê¸°/","dgPassFrontmatter":true,"noteIcon":"","created":"2024-10-15T22:32:52.408+09:00","updated":"2024-10-30T23:20:24.906+09:00"}
---


### 1. Docker ì´ë¯¸ì§€ íƒœê·¸ ì„¤ì •í•˜ê¸°

- ë¹Œë“œëœ ì´ë¯¸ì§€ì— **ì‹ë³„ì**ë¥¼ ë¶™ì—¬ ì‚¬ìš©í•˜ê¸° ì‰½ê²Œ ë§Œë“œëŠ” ê³¼ì • 

```bash
docker tag [ì´ë¯¸ì§€í•´ì‰¬ê°’] [DockerHubì‚¬ìš©ìëª…]/[ì´ë¯¸ì§€ì´ë¦„]:[íƒœê·¸]
```

*ì˜ˆì‹œ*
```shell
 docker tag sha256:9dcd173770be56258d1f467b6a7ccd77e1c121e36105ee7451ff9f161faa42a3 yyujjin1204/book:latest
```


####  ğŸ¤« ë ˆí¬ì§€í† ë¦¬ì™€ íƒœê·¸ ì´í•´í•˜ê¸°

```shell
docker tag ì´ë¯¸ì§€í•´ì‰¬ê°’ yyujjin1204/book-rating-backend:latest
docker tag ì´ë¯¸ì§€í•´ì‰¬ê°’ yyujjin1204/book-rating-backend:v1.0
```

- `yyujjin1204/book-rating-backend`: ë ˆí¬ì§€í† ë¦¬ ì´ë¦„ìœ¼ë¡œ, `book-rating-backend` ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.
- `latest`ì™€ `v1.0`: íƒœê·¸ë¡œ, ê°™ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ë¼ë„ ë²„ì „ë³„ ë˜ëŠ” ë°°í¬ ìƒíƒœë³„ë¡œ êµ¬ë¶„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.



### 2. Docker ì´ë¯¸ì§€ í‘¸ì‹œ
```shell
docker push [DockerHubì‚¬ìš©ìëª…]/[ì´ë¯¸ì§€ì´ë¦„]:[íƒœê·¸]
```

*ì˜ˆì‹œ*
```shell
docker push yyujjin1204/book:latest
```


### 3. Hubì— ì—…ë¡œë“œ í™•ì¸í•˜ê¸°
Docker Hubì— ì—…ë¡œë“œëœ ì´ë¯¸ì§€ê°€ ì •ìƒì ìœ¼ë¡œ ì˜¬ë¼ê°„ê±¸ í™•ì¸í•  ìˆ˜ ìˆë‹¤. 

**ì´ë¯¸ì§€ë¥¼ EC2 ì¸ìŠ¤í„´ìŠ¤ì— ë‚´ë ¤ë°›ì•„ ì»¨í…Œì´ë„ˆë¡œ ì‹¤í–‰í•˜ëŠ” ê³¼ì •**

`ì´ë¯¸ì§€í™”`  :  ì• í”Œë¦¬ì¼€ì´ì…˜ì„ Docker ì´ë¯¸ì§€ë¡œ ë§Œë“¤ê³  ì €ì¥.
`ì´ë¯¸ì§€ë¥¼ EC2ì— ì˜¬ë¦°ë‹¤`  :  EC2ì— ì´ë¯¸ì§€ë¥¼ ë‹¤ìš´ë¡œë“œí•˜ì§€ë§Œ ì•„ì§ ì‹¤í–‰ë˜ì§€ ì•ŠìŒ.
`ì»¨í…Œì´ë„ˆë¡œ ì‹¤í–‰`  :  ì´ë¯¸ì§€ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì»¨í…Œì´ë„ˆê°€ ì‹¤í–‰ë˜ë©°, ì´ë•Œ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ EC2ì—ì„œ êµ¬ë™.



ğŸ¶ ==EC2ì— ì ‘ì†í•œë‹¤.==


### 4. EC2 ì¸ìŠ¤í„´ìŠ¤ì— Docker ì„¤ì¹˜

EC2 ì¸ìŠ¤í„´ìŠ¤ì— Dockerê°€ ì„¤ì¹˜ë˜ì§€ ì•Šì•˜ë‹¤ë©´ ë¨¼ì € ì„¤ì¹˜í•œë‹¤.

`sudo`ëŠ” ë­ì§€?
- superuser ê¶Œí•œìœ¼ë¡œ ëª…ë ¹ì„ ì‹¤í–‰í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë©ë‹ˆë‹¤.
- DockerëŠ” ì‹œìŠ¤í…œì˜ ë¦¬ì†ŒìŠ¤ë¥¼ ê´€ë¦¬í•˜ê³  ì ‘ê·¼í•˜ëŠ” ì‘ì—…ì„ í•˜ê¸° ë•Œë¬¸ì— ë£¨íŠ¸ ê¶Œí•œì´ í•„ìš”í•˜ê¸°ë•Œë¬¸


*Docker ì„¤ì¹˜ (Ubuntu ê¸°ì¤€)*
```shell
sudo apt update
sudo apt install docker.io
sudo systemctl start docker
sudo systemctl enable docker
```

*Docker ì„¤ì¹˜ í™•ì¸*
```shell
docker --version
```


ì—¬ê¸°ì„œë¶€í„° í•˜ë©´ ë¨

### 5. Docker Hubì—ì„œ ì´ë¯¸ì§€ Pullí•˜ê¸°

Docker Hubì— ì´ë¯¸ì§€ë¥¼ EC2 ì¸ìŠ¤í„´ìŠ¤ë¡œ ê°€ì ¸ì˜¨ë‹¤.
```shell
sudo docker pull [DockerHubì‚¬ìš©ìëª…]/[ì´ë¯¸ì§€ì´ë¦„]:[íƒœê·¸]
```

*ì˜ˆì‹œ*
```shell
sudo docker pull yyujjin1204/book:latest
```

### 6. ì»¨í…Œì´ë„ˆ ì‹¤í–‰í•˜ê¸°

*í¬íŠ¸ê°€ 8080ì¼ ê²½ìš° ì˜ˆì‹œ*
```shell
sudo docker run -d -p 8080:8080 [DockerHubì‚¬ìš©ìëª…]/[ë¦¬í¬ì§€í† ë¦¬ëª…]:[íƒœê·¸]
```

*ì˜ˆì‹œ*
```shell
sudo docker run -d -p 8080:8080 yyujjin1204/book-rating-backend:latest
```
`-d` :  ë°±ê·¸ë¼ìš´ë“œë¡œ ì‹¤í–‰
`-p` : í¬íŠ¸ì„¤ì •

ì‹¤í–‰ì— ì„±ê³µí•˜ë©´ ì»¨í…Œì´ë„ˆ ID ê°’ì´ ë‚˜íƒ€ë‚œë‹¤.

### 7. ë°°í¬ í™•ì¸í•˜ê¸°

```shell
http://[EC2-í¼ë¸”ë¦­-IP]:8080
```



